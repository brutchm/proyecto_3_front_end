// /* Estilos adaptados de transaction-form para consistencia visual */
// .report-form {
//   display: flex;
//   flex-direction: column;
//   gap: 1.5rem;
//   padding-top: 1rem;
// }

// .form-field {
//   display: flex;
//   flex-direction: column;
//   gap: 0.5rem;

//   label {
//     color: var(--color-text-primary);
//     font-weight: bold;
//     font-size: 0.9rem;
//   }
// }

// /* --- Sobrescribir estilos de PrimeNG --- */
// :host ::ng-deep {
//   // Estilos para el diálogo modal
//   .p-dialog {
//     background-color: var(--card-bg);
//     border-radius: 12px;
//     border: 1px solid var(--color-divider);

//     .p-dialog-header {
//       background-color: transparent;
//       color: var(--color-text-primary);
//       border-bottom: 1px solid var(--color-divider);
//       padding: 1.5rem;
//     }

//     .p-dialog-content {
//       background: var(--card-bg);
//       padding: 2rem;
//     }
    
//     .p-dialog-footer {
//       background-color: var(--card-bg);
//       border-top: 1px solid var(--color-divider);
//       text-align: right;
//       padding: 1rem 1.5rem;
//     }
//   }

//   // Estilos para los elementos del formulario
//   .p-dropdown, .p-calendar {
//     width: 100%;
//     background-color: var(--input-bg);
//     border: 1px solid var(--input-border);
//     color: var(--input-text);

//     &:focus-within {
//       border-color: var(--color-accent);
//       box-shadow: 0 0 0 1px var(--color-accent);
//     }
//   }

//   .p-dropdown {
//     .p-dropdown-label {
//       color: var(--input-text);
//     }
//   }
  
//   .p-button {
//     &.p-button-text {
//       color: var(--color-text-secondary);
//     }
//   }
// }

// /* --- Estilos para los paneles que se renderizan fuera del componente --- */
// ::ng-deep {
//   .p-dropdown-panel {
//     background-color: var(--dropdown-bg, #2a2a2a);
//     border: 1px solid var(--input-border);

//     .p-dropdown-item {
//       color: var(--dropdown-option-text, #e0e0e0);

//       &:hover {
//         background-color: var(--dropdown-option-hover-bg, #424242);
//       }
      
//       &.p-focus {
//         background-color: var(--dropdown-option-hover-bg, #424242);
//         color: var(--dropdown-option-text, #e0e0e0);
//       }

//       &.p-highlight {
//         background-color: var(--color-accent);
//         color: var(--color-bg-main, #ffffff);
//       }
//     }
//   }

//   .p-datepicker {
//     background-color: var(--dropdown-bg);
//     border: 1px solid var(--input-border);
//     color: var(--dropdown-option-text);
//     z-index: 1101; // Asegura que el calendario aparezca por encima del modal

//     .p-datepicker-header {
//       background-color: var(--card-bg);
//       color: var(--color-text-primary);
//       border-bottom: 1px solid var(--color-divider);
//     }

//     .p-datepicker-title > span, .p-datepicker-prev, .p-datepicker-next {
//         color: var(--color-text-primary);
//     }

//     table {
//       th, td {
//         span {
//           color: var(--dropdown-option-text);
//           &:focus {
//              box-shadow: 0 0 0 1px var(--color-accent);
//           }
//         }
//       }
      
//       td > span.p-highlight {
//         background-color: var(--color-accent);
//         color: var(--color-bg-main);
//       }
//     }
//   }
// }


/* Estilos adaptados de transaction-form para consistencia visual */
.report-form {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding-top: 1rem;
}

.form-field {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;

  label {
    color: var(--color-text-primary);
    font-weight: bold;
    font-size: 0.9rem;
  }
}

/* --- Sobrescribir estilos de PrimeNG para los elementos del formulario --- */
:host ::ng-deep {
  .p-dropdown, .p-calendar {
    width: 100%;
    background-color: var(--input-bg);
    border: 1px solid var(--input-border);
    color: var(--input-text);

    &:focus-within {
      border-color: var(--color-accent);
      box-shadow: 0 0 0 1px var(--color-accent);
    }
  }

  .p-dropdown {
    .p-dropdown-label {
      color: var(--input-text);
    }
  }
}

/* --- Estilos para los paneles que se renderizan fuera del componente --- */
// Usamos un selector global para asegurar que se apliquen correctamente.
::ng-deep {
  .p-dropdown-panel {
    background-color: var(--dropdown-bg, #2a2a2a);
    border: 1px solid var(--input-border);
    // z-index alto para que aparezca sobre el modal
    z-index: 1102; 

    .p-dropdown-item {
      color: var(--dropdown-option-text, #e0e0e0);

      &:hover {
        background-color: var(--dropdown-option-hover-bg, #424242);
      }
      
      &.p-focus {
        background-color: var(--dropdown-option-hover-bg, #424242);
        color: var(--dropdown-option-text, #e0e0e0);
      }

      &.p-highlight {
        background-color: var(--color-accent);
        color: var(--color-bg-main, #ffffff);
      }
    }
  }

  .p-datepicker {
    background-color: var(--dropdown-bg);
    border: 1px solid var(--input-border);
    color: var(--dropdown-option-text);
    // **LA CORRECCIÓN CLAVE:** Un z-index alto asegura que el calendario 
    // aparezca por encima del overlay del modal.
    z-index: 1102; 

    .p-datepicker-header {
      background-color: var(--card-bg);
      color: var(--color-text-primary);
      border-bottom: 1px solid var(--color-divider);
    }

    .p-datepicker-title > span, .p-datepicker-prev, .p-datepicker-next {
        color: var(--color-text-primary);
    }

    table {
      th, td {
        span {
          color: var(--dropdown-option-text);
          &:focus {
             box-shadow: 0 0 0 1px var(--color-accent);
          }
        }
      }
      
      td > span.p-highlight {
        background-color: var(--color-accent);
        color: var(--color-bg-main);
      }
    }
  }
}
